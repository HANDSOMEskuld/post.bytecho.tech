---
import ArrowUp from "@/assets/svgs/arrow-right-01.astro"; // 复用现有的箭头图标，通过CSS旋转
---

<button
  id="back-to-top"
  aria-label="Back to Top"
  class="btn btn-circle btn-primary fixed bottom-8 right-8 z-50 shadow-lg translate-y-20 opacity-0 transition-all duration-300"
>
  <div class="-rotate-90">
    <ArrowUp />
  </div>
</button>

<script>
  const backToTopBtn = document.getElementById("back-to-top");

  if (backToTopBtn) {
    const toggleVisibility = () => {
      if (window.scrollY > 300) {
        backToTopBtn.classList.remove("translate-y-20", "opacity-0");
      } else {
        backToTopBtn.classList.add("translate-y-20", "opacity-0");
      }
    };

    const scrollToTop = () => {
      window.scrollTo({
        top: 0,
        behavior: "smooth",
      });
    };

    window.addEventListener("scroll", toggleVisibility);
    backToTopBtn.addEventListener("click", scrollToTop);
  }
</script>