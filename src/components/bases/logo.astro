---
type Props = {
  animated?: boolean; // 可选属性，控制是否开启动效
  class?: string; // 允许外部传入额外的 class 控制大小
};

// 默认开启于 animated=true，默认高度为 h-10
const { animated = true, class: className = "h-10" } = Astro.props;
---

<a href="/" class:list={["flex items-center gap-2.5 group select-none", className]} aria-label="Bytecho Tech Home">
  <div class="relative aspect-square h-full flex items-center justify-center text-primary">
    <svg
      viewBox="0 0 100 100"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="w-full h-full overflow-visible"
    >
      <g class:list={["origin-center", animated ? "animate-spin-reverse-slower" : ""]}>
        <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="2" stroke-dasharray="20 30 10 40" opacity="0.3" stroke-linecap="round" />
        <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="2" stroke-dasharray="5 5 5 80" stroke-dashoffset="50" opacity="0.5" stroke-linecap="round" />
      </g>

      <g class:list={["origin-center", animated ? "animate-spin-slow" : ""]}>
        <circle cx="50" cy="50" r="36" stroke="currentColor" stroke-width="3" stroke-dasharray="40 60" opacity="0.6" stroke-linecap="round" />
         <circle cx="50" cy="14" r="3" fill="currentColor" />
      </g>
      
      <g class:list={["origin-center", animated ? "animate-pulse-data" : ""]}>
        <path d="M50 25L71.65 37.5V62.5L50 75L28.35 62.5V37.5L50 25Z" fill="currentColor" fill-opacity="0.15" stroke="currentColor" stroke-width="2"/>
        <path d="M50 38V62M39 44L61 56M61 44L39 56" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <circle cx="50" cy="50" r="5" fill="currentColor" class="group-hover:text-white transition-colors duration-300"/>
      </g>
    </svg>
    
    <div class="absolute inset-0 bg-primary/30 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700 -z-10 scale-125"></div>
  </div>

  <div class="flex flex-col leading-none">
    <span class="font-serif font-bold text-2xl tracking-tight text-base-content relative top-[1px]">
      Bytecho<span class="text-primary">Tech</span>
    </span>
  </div>
</a>