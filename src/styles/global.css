@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "daisyui" {
  /* 加载默认主题，但在下面我们会覆盖它们 */
  themes: light --default, dark --prefersdark;
  root: ":root";
  logs: false;
}

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* 1. Tailwind 配置层 (@theme)
  这里控制 text-primary, bg-secondary 等 utility 类生成的颜色。
  我们直接使用 HEX 值，确保这些类名 100% 变为绿色。
*/
@theme {
  --font-sans: "Source Sans Pro", ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-serif: "Source Serif 4 Variable", ui-serif, Georgia, Cambria,
    "Times New Roman", Times, serif;

  --breakpoint-2xl: initial;

  /* 强制将 Primary (主色) 设为绿色 */
  --color-primary: #03a740;
  --color-primary-content: #ffffff;
  
  /* 关键：强制将 Secondary (次色) 也设为绿色 */
  /* 这样代码里的 dark:text-secondary 就不会变成紫色了 */
  --color-secondary: #03a740;
  --color-secondary-content: #ffffff;
}

/* 2. CSS 变量层 (@layer base)
  这里控制 DaisyUI 组件（如 .btn, .checkbox）的颜色。
  我们使用更高权重的选择器来确保覆盖默认主题。
*/
@layer base {
  /* 使用 :root, html, body 增加权重，确保覆盖 DaisyUI 默认注入的样式 */
  :root,
  html,
  body,
  [data-theme] {
    /* 定义 OKLCH 颜色值 (#03a740 转换后的精确值)
       DaisyUI 5 内部计算依赖这些变量
    */
    
    /* 设置 Primary 为绿色 */
    --primary: oklch(60% 0.198 147.4);
    --primary-content: oklch(100% 0 0);
    
    /* 设置 Secondary 也为绿色 (消灭紫色) */
    --secondary: oklch(60% 0.198 147.4);
    --secondary-content: oklch(100% 0 0);

    /* 兼容性变量：DaisyUI 旧版或某些内部计算可能需要纯数值 */
    --p: 0.6 0.198 147.4;
    --s: 0.6 0.198 147.4;
    
    /* 这里的 content 变量对应上面的文本颜色 */
    --pc: 1 0 0;
    --sc: 1 0 0;
    
    @apply cursor-default;
  }
  
  html {
    @apply h-full text-[16px] md:text-[18px] scroll-smooth;
  }

  body {
    @apply font-sans antialiased h-full text-base-content/90 leading-relaxed;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-serif font-bold text-base-content tracking-tight;
  }

  h1 {
    @apply text-3xl md:text-4xl lg:text-5xl mb-6;
  }

  h2 {
    @apply text-2xl md:text-3xl mb-4;
  }

  small,
  time {
    @apply text-sm text-base-content/70;
  }

  .prose {
    @apply max-w-none;
    
    pre {
      code {
        span,
        p {
          @apply break-all;
        }
      }
    }
    
    /* 链接颜色修正 */
    a {
      @apply decoration-primary/30 hover:decoration-primary transition-colors;
    }
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: 1.5rem;
  @media (max-width: 640px) {
    max-width: none;
  }
  @media (min-width: 1280px) {
    max-width: 1248px;
  }
}

@layer components {
  .a-01 {
    @apply hover:underline decoration-primary underline-offset-4 decoration-2;
  }
}